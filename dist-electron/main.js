"use strict";const{app:n,BrowserWindow:a}=require("electron"),r=require("path");function o(){const e=new a({width:1080,height:700,minWidth:1080,minHeight:700,titleBarStyle:"hidden",resizable:!1,webPreferences:{nodeIntegration:!0,contextIsolation:!1,enableRemoteModule:!0,webSecurity:!1}});if(console.log(__dirname),n.isPackaged)e.loadFile(r.join(__dirname,"../index.html"));else{let i="http://127.0.0.1:5173";e.loadURL(i)}const t=require("electron").ipcMain;t.on("min",i=>{e.minimize()}),t.on("max",i=>{e.isMaximized()?(e.restore(),i.reply("watchSize","max")):(e.maximize(),i.reply("watchSize","restore"));let l=e.isMaximized();i.returnValue=l}),t.on("login",()=>{e.maximize()}),t.on("close",function(){n.exit()}),t.on("release",function(i){e.setResizable(i)})}n.whenReady().then(()=>{o(),n.on("activate",function(){a.getAllWindows().length===0&&o()})});n.on("window-all-closed",function(){process.platform!=="darwin"&&n.quit()});
